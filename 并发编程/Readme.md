[toc]
# 并发编程
## 执行程序的单元
> io阻塞多个cpu是没用的,cpu只对计算密集型才有用
### 进程（资源集合）
> 正在运行的程序，各个进程内存数据资源隔绝

#### 僵尸进程
#### 孤儿进程（进程之间是由父子关系的，父进程被杀掉了）
#### 互斥锁
#### 守护进程（参考Django 启动多个celery任务必须得一直有一个运行的进程，要不然docker识别不到就会自己把服务关停）

### 线程（CPU的执行单位）
> 进程内部由多个线程组成，默认至少有一个线程，同一进程的多个线程，内存数据共享

#### 守护线程
> 指同一进程多个线程中，等待所有线程工作完成后，自身才结束的线程

#### GIL保证回收线程安全（应该说python解释器有GIL这个功能）
> GIL是python解释器的线程互斥锁，为了避免多个线程同时运行
> 流程为：执行的程序-》拿到GIL，锁上，可以用解释器来跑程序了，-》阻塞就释放GIL等CPU，把解释器给其他的程序使

### 协程
> 代码写的自定义线程。

**特点：**
1. 必须在一个单线程例实现并发（GEVENT）
2. 修改共享数据不需要锁
3. 用户程序得自己控制处理执行流程

## io逻辑
- 阻塞：线程大家都在等cpu完成任务  -> 导致程序串行
- 非阻塞：线程会不时的确认cpu是否是空闲状态，不会一直等着  -> 并发
- IO 多路复用是一种同步IO模型: 实现一个线程可以监视多个文件句柄； 一旦某个文件句柄就绪，就能够通知应用程序进行相应的读写操作； 没有文件句柄就绪就会阻塞应用程序，交出CPU



https://www.jianshu.com/p/7ac69db65a0e